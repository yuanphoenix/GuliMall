<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.atguigu.gulimall.product.mapper.ProductAttrValueMapper">

  <resultMap id="BaseResultMap" type="com.atguigu.gulimall.product.entity.ProductAttrValueEntity">
    <id column="id" property="id"/>
    <result column="spu_id" property="spuId"/>
    <result column="attr_id" property="attrId"/>
    <result column="attr_name" property="attrName"/>
    <result column="attr_value" property="attrValue"/>
    <result column="attr_sort" property="attrSort"/>
    <result column="quick_show" property="quickShow"/>
  </resultMap>

  <sql id="Base_Column_List">
    id
    ,spu_id,attr_id,attr_name,attr_value,attr_sort,
        quick_show
  </sql>
  <select id="selectSearchValueBySpuId"
          resultType="com.atguigu.gulimall.product.entity.ProductAttrValueEntity">
    SELECT ppav.*
    FROM pms_product_attr_value ppav
           INNER JOIN pms_attr pa ON ppav.attr_id = pa.attr_id
    WHERE pa.search_type = 1
      AND ppav.spu_id = #{spuId};

  </select>
</mapper>
